{% extends "base.html" %}

{% block content %}
<div class="chat-container">
    <!-- Contacts View -->
    <div id="contactsView" class="view active">
        <header class="chat-header">
            <h1>Messages</h1>
            <button class="theme-toggle btn btn-link">
                <i class="bi bi-sun-fill"></i>
            </button>
        </header>
        <div class="contacts-list">
            {% for contact in contacts %}
            <div class="contact-item" data-contact="{{ contact.sender }}">
                <div class="contact-info">
                    <span class="contact-name">{{ contact.sender }}</span>
                    <span class="contact-last-message">{{ contact.text }}</span>
                </div>
                <time class="contact-time" datetime="{{ contact.time }}">
                    {{ contact.time }}
                </time>
            </div>
            {% endfor %}
        </div>
        <div class="contacts-loader" style="display: none;">
            <div class="spinner-border text-primary" role="status">
                <span class="visually-hidden">Loading...</span>
            </div>
        </div>
    </div>

    <!-- Chat View -->
    <div id="chatView" class="view">
        <header class="chat-header">
            <button class="back-button btn btn-link">
                <i class="bi bi-arrow-left"></i>
            </button>
            <h2 class="contact-name"></h2>
            <button class="theme-toggle btn btn-link">
                <i class="bi bi-sun-fill"></i>
            </button>
        </header>
        <div class="messages-loader" style="display: none;">
            <div class="spinner-border text-primary" role="status">
                <span class="visually-hidden">Loading...</span>
            </div>
        </div>
        <div class="messages-list"></div>
    </div>
</div>
{% endblock %}
